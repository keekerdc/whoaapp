// Generated by CoffeeScript 1.7.1
(function() {
  var WhoaPlayer;

  WhoaPlayer = (function() {
    function WhoaPlayer() {
      this.audio = new Audio('/whoa.mp3');
      this.audio.addEventListener('timeupdate', (function(_this) {
        return function() {
          if (_this.audio.currentTime >= _this.stop) {
            return _this.audio.pause();
          }
        };
      })(this));
    }

    WhoaPlayer.prototype.whoa = function(start, stop) {
      this.start = start;
      this.stop = stop;
      console.log(this.start, this.stop);
      if (this.audio.paused) {
        this.audio.currentTime = start;
        return this.audio.play();
      } else {
        return this.audio.pause();
      }
    };

    return WhoaPlayer;

  })();

  this.whoa = new WhoaPlayer;

  document.getElementById('playwhoa').addEventListener('click', (function(_this) {
    return function(e) {
      e.stopPropagation();
      return _this.whoa.whoa(parseFloat(e.target.dataset.start), parseFloat(e.target.dataset.stop));
    };
  })(this));

}).call(this);
